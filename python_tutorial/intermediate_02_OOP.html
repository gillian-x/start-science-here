

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>02_intermediate_python &mdash; start-science-here 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_rtd_theme_ext_color_contrast.css" type="text/css" />
  <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/togglebutton.js"></script>
        <script >var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "tex2jax_ignore|mathjax_ignore|document", "processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Data Types" href="quick_references/qr_01_data_types.html" />
    <link rel="prev" title="01_functions_classes" href="basics_01_functions_classes.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> start-science-here
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../linux_tutorial/linux_tutorial.html">Linux tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="python_tutorial.html">Python Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="python_tutorial.html#introduction-to-jupyter-notebooks">Introduction to Jupyter Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_tutorial.html#interactive-tutorial-notebooks">Interactive Tutorial Notebooks</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="python_tutorial.html#non-interactive-static-notebooks">Non-interactive static notebooks</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="basics_00_datatypes.html">00_datatypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="basics_01_functions_classes.html">01_functions_classes</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">02_intermediate_python</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#What-you-will-learn">What you will learn</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Advanced-iteration">Advanced iteration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Advanced-functions-*args-and-**kwargs">Advanced functions *args and **kwargs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Advanced-Classes-OOP">Advanced Classes OOP</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Custom-decorators">Custom decorators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Decorator-classes">Decorator classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Further-keywords">Further keywords</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Lambda-expressions">Lambda expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Global-and-Nonlocal--&gt;-Scope-and-Namespace">Global and Nonlocal -&gt; Scope and Namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Generators-and-yield">Generators and yield</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Exceptions">Exceptions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="python_tutorial.html#quick-reference">Quick Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_tutorial.html#static-quick-reference-notebooks">Static quick reference notebooks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../windows_susbsystem_for_linux.html">Windows subsystem for linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setting_up_python.html">Setting Up Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install_docker.html">Installation instructions for Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gromacs_tutorial/gromacs_tutorial.html">Gromacs Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setting_up_python.html">Setting Up Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git_tutorial.html">Git Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../first_project.html">Your first project</a></li>
</ul>
<p><span class="caption-text">Extras</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../raising_issues.html">Raising Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../propose_changes.html">Propose Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_files.html">Downloading Files from mybinder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uploading_files.html">Uploading Files to mybinder</a></li>
</ul>
<p><span class="caption-text">Having Problems?</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html#contact">Contact</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">start-science-here</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="python_tutorial.html">Python Tutorial</a> &raquo;</li>
        
      <li>02_intermediate_python</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/kevinsawade/start-science-here/blob/main/docs/source/python_tutorial/intermediate_02_OOP.nblink" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars and line breaks on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
    white-space: pre;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<p>Modules</p>
<p>Scopes and Namespaces</p>
<p>Errors</p>
<p>except and finally</p>
<p>Intermediate Python</p>
<p>File Handling</p>
<p>[STRIKEOUT:Object Oriented Programming]</p>
<p>Iterator, Generator, Decorators</p>
<p>[STRIKEOUT:Lambda Expressions]</p>
<p>map</p>
<section id="02_intermediate_python">
<h1>02_intermediate_python<a class="headerlink" href="#02_intermediate_python" title="Permalink to this headline">¶</a></h1>
<p>Open on binder:</p>
<p><a class="reference external" href="https://mybinder.org/v2/gh/kevinsawade/start-science-here/HEAD?urlpath=%2Ftree%2F?filepath=python_tutorial%2Fintermediate_python%2Fintermediate_02_OOP.ipynb"><img alt="Binder" src="https://binder.pangeo.io/badge_logo.svg" /></a></p>
<p><strong>Call out to Corey Schafer</strong></p>
<p>Lots of the code here is taken from Corey Schafer and his excellent python tutorials. When you are more the video-learning type of person, definitely check out his youtube channel:</p>
<p><a class="reference external" href="https://www.youtube.com/user/schafer5">https://www.youtube.com/user/schafer5</a></p>
<section id="What-you-will-learn">
<h2>What you will learn<a class="headerlink" href="#What-you-will-learn" title="Permalink to this headline">¶</a></h2>
<p>In this tutorial you will learn:</p>
<ul class="simple">
<li><p>How to add functionality to your iterations and make theam more readable.</p></li>
<li><p>How to make your classes awesome.</p>
<ul>
<li><p>How to inherit from parent classes.</p></li>
<li><p>How to make your classes work with builtin operators (operator overloading).</p></li>
<li><p>How to write decorators in classes and on functions.</p></li>
</ul>
</li>
</ul>
</section>
<section id="Advanced-iteration">
<h2>Advanced iteration<a class="headerlink" href="#Advanced-iteration" title="Permalink to this headline">¶</a></h2>
<p>There are multiple objects than can be iterated. <code class="docutils literal notranslate"><span class="pre">str</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code>, and <code class="docutils literal notranslate"><span class="pre">tuple</span></code> are the most common. We will later look at how to make our own object iterable. But first let’s go back to the iteration over a list:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">iterable</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="Any-and-all">
<h3>Any and all<a class="headerlink" href="#Any-and-all" title="Permalink to this headline">¶</a></h3>
<p>You can use the builtin function <code class="docutils literal notranslate"><span class="pre">any()</span></code> or <code class="docutils literal notranslate"><span class="pre">all()</span></code> to check if any object or all objects are True. Because all objects have a boolean value assigned to them, you can do stuff like this:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">check</span> <span class="o">=</span> <span class="nb">any</span><span class="p">([</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{},</span> <span class="p">()])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>

<span class="n">check</span> <span class="o">=</span> <span class="nb">any</span><span class="p">([</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="p">[],</span> <span class="o">~</span><span class="kc">False</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">all</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>Bitwise not. It will, for example invert a binary number and return its compliment.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="mb">0b100111111</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">bin</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">bin</span><span class="p">(</span><span class="o">~</span><span class="n">b</span><span class="p">))</span>
</pre></div>
</div>
</div>
</section>
<section id="Combining-lists">
<h3>Combining lists<a class="headerlink" href="#Combining-lists" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">iterable2</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">iterable</span><span class="p">))]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">iterable</span> <span class="o">+</span> <span class="n">iterable2</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Enumerate">
<h3>Enumerate<a class="headerlink" href="#Enumerate" title="Permalink to this headline">¶</a></h3>
<p>With <code class="docutils literal notranslate"><span class="pre">enumerate()</span></code> we get the ability to get the current iteration count without doing something like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">something</span><span class="p">:</span>
    <span class="n">important_variable</span> <span class="o">=</span> <span class="n">something_else</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">enumerate()</span></code> returns an iterator that gives tuples when it is iterated over.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">tup</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">iterable</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The returned tuple can be directly unpacked.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">iterable</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Value at </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> is: </span><span class="si">{</span><span class="n">val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Zip">
<h3>Zip<a class="headerlink" href="#Zip" title="Permalink to this headline">¶</a></h3>
<p>With <code class="docutils literal notranslate"><span class="pre">zip()</span></code>, two iterables can be iterated through at the same time or they can be iterated one after the other. The number of iterations by zip correspond to the number of elements of the shortest itearable. <code class="docutils literal notranslate"><span class="pre">zip()</span></code> also gives a tuple which can directly unpacked.</p>
<section id="Zip-through-two-lists">
<h4>Zip through two lists<a class="headerlink" href="#Zip-through-two-lists" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">iterable2</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Zip-with-enumerate">
<h4>Zip with enumerate<a class="headerlink" href="#Zip-with-enumerate" title="Permalink to this headline">¶</a></h4>
<p>zip and enumerate can be used simultaneously, but you have to watch, how you unpack everything.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">iterable2</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Value1at </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> is: </span><span class="si">{</span><span class="n">val1</span><span class="si">}</span><span class="s2">. Value2 is </span><span class="si">{</span><span class="n">val2</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Constructing-a-dict-from-two-lists-using-zip">
<h4>Constructing a dict from two lists using zip<a class="headerlink" href="#Constructing-a-dict-from-two-lists-using-zip" title="Permalink to this headline">¶</a></h4>
<p>We can construct a dict using zip like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">weird_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">iterable2</span><span class="p">,</span> <span class="n">iterable</span><span class="p">))</span>
</pre></div>
</div>
<p><strong>BUT</strong>, because normally the keys in a <code class="docutils literal notranslate"><span class="pre">dict</span></code> are <code class="docutils literal notranslate"><span class="pre">str</span></code> we have to make the values in iterable2 to <code class="docutils literal notranslate"><span class="pre">str</span></code>. Let me introduce you to the built-in function <code class="docutils literal notranslate"><span class="pre">map()</span></code>. With <code class="docutils literal notranslate"><span class="pre">map()</span></code> we can map any function to an iterable. <code class="docutils literal notranslate"><span class="pre">map()</span></code> returns a map object. This map object is iterable itself. But if you want to create a list from it, you have to call the <code class="docutils literal notranslate"><span class="pre">list()</span></code> built-in function, which creates lists from iterables.</p>
<p><strong>Showcase of the ``list()`` built-in function</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;Hello world!&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>Map the bui-in function ``str()`` to the iterable2 list</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tmp</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">iterable2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
<span class="n">tmp</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>Finally. Built the dict</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">weird_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tmp</span><span class="p">,</span> <span class="n">iterable</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">weird_dict</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">weird_dict</span><span class="p">[</span><span class="s1">&#39;9&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="Map">
<h3>Map<a class="headerlink" href="#Map" title="Permalink to this headline">¶</a></h3>
<p>The builtin function <code class="docutils literal notranslate"><span class="pre">map()</span></code> applies a function to every element of an iterable. Python3.x returns a map object (This is done for performance reasons. The execution of the function <code class="docutils literal notranslate"><span class="pre">square()</span></code> is halted until the result is truly needed. This saves memory and computation time, especially, if you only want to use the first n items). To create a list from this, pass it to the <code class="docutils literal notranslate"><span class="pre">list()</span></code> builtin.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">num</span> <span class="o">**</span><span class="mi">2</span>

<span class="nb">map</span><span class="p">(</span><span class="n">square</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">square</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">timeit</span>
<span class="nb">map</span><span class="p">(</span><span class="n">square</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">timeit</span>
<span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">square</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</section>
<section id="Filter">
<h3>Filter<a class="headerlink" href="#Filter" title="Permalink to this headline">¶</a></h3>
<p>Instead of mapping a function to be applied to every element. You can give a function, that either returns <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>. Elements which would cause the function to return False are dropped from the iterable.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">strings</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Spam&#39;</span><span class="p">,</span> <span class="s1">&#39;Foo&#39;</span><span class="p">,</span> <span class="s1">&#39;Cat&#39;</span><span class="p">,</span> <span class="s1">&#39;Bar&#39;</span><span class="p">,</span> <span class="s1">&#39;Noodles&#39;</span><span class="p">,</span> <span class="s1">&#39;Parrot&#39;</span><span class="p">,</span> <span class="s1">&#39;List&#39;</span><span class="p">,</span> <span class="s1">&#39;Hello&#39;</span><span class="p">,</span> <span class="s1">&#39;Window&#39;</span><span class="p">,</span> <span class="s1">&#39;World&#39;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">filter_programmer_humor</span><span class="p">(</span><span class="n">inp</span><span class="p">):</span>
    <span class="n">humor</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;parrot&#39;</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">inp</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">humor</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>

<span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="n">filter_programmer_humor</span><span class="p">,</span> <span class="n">strings</span><span class="p">))</span>
</pre></div>
</div>
</div>
</section>
<section id="Reduce">
<h3>Reduce<a class="headerlink" href="#Reduce" title="Permalink to this headline">¶</a></h3>
<p>Reduce is a function from the functools builtin library. It provides powerful rolling computation for something that you would use a for-loop otherwise.</p>
<p>That way, you can calculate the geometric mean of a set of numbers.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">reduce</span>

<span class="k">def</span> <span class="nf">multiplication</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>

<span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">reduce</span><span class="p">(</span><span class="n">multiplication</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</section>
<section id="Even-more-advanced-iteration,-combination,-permutation-(package:-itertools)">
<h3>Even more advanced iteration, combination, permutation (package: itertools)<a class="headerlink" href="#Even-more-advanced-iteration,-combination,-permutation-(package:-itertools)" title="Permalink to this headline">¶</a></h3>
<p>Check out the built-in package <code class="docutils literal notranslate"><span class="pre">itertools</span></code> to get more iterators, like combinations and permutations.</p>
</section>
</section>
<section id="Advanced-functions-*args-and-**kwargs">
<h2>Advanced functions *args and **kwargs<a class="headerlink" href="#Advanced-functions-*args-and-**kwargs" title="Permalink to this headline">¶</a></h2>
<p>If you’ve looked at some python code, you’ve certainly come across these two expressions. Let’s demystify them.</p>
<p>Taken from: <a class="reference external" href="https://realpython.com/python-kwargs-and-args/">https://realpython.com/python-kwargs-and-args/</a></p>
<p>The *args argument in a function definition allows any number of arguments to be passed. Additional to a defined number of arguments declared beforehand.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">summation</span><span class="p">(</span><span class="n">prt</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prints the first argument and sums the remaining args.&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Argument prt got value: </span><span class="si">{</span><span class="n">prt</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="n">out</span> <span class="o">+=</span> <span class="n">i</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="n">summation</span><span class="p">(</span><span class="s1">&#39;I think. At some point you should take a break&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>We can supply any arguments from iterables by unpacking them in the function call.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">summation</span><span class="p">(</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">120</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>The unpacking elements can be calles whatever, but it is advised to use *args and **kwargs</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">employee_numbers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Nancy&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;Keith&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;Sandra&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;Ben&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
<span class="n">department_members</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Nancy&#39;</span><span class="p">,</span> <span class="s1">&#39;Keith&#39;</span><span class="p">,</span> <span class="s1">&#39;Richard&#39;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">add_department</span><span class="p">(</span><span class="n">members</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds numbers belonging to department members.&quot;&quot;&quot;</span>
    <span class="n">sum_</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">member</span><span class="si">}</span><span class="s2"> is in department.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">department_members</span><span class="p">:</span>
            <span class="n">sum_</span> <span class="o">=</span> <span class="n">sum_</span> <span class="o">+</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">member</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">sum_</span>

<span class="n">add_department</span><span class="p">(</span><span class="n">department_members</span><span class="p">,</span> <span class="o">**</span><span class="n">employee_numbers</span><span class="p">,</span> <span class="n">Richard</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>There’s a lot going on in the last cell. Let’s summarize it:</p>
<ul class="simple">
<li><p>The first line defines a dictionary with multiple employees and some numbers belonging to them.</p></li>
<li><p>The second line defines a list of strings. The members of a specific department.</p></li>
<li><p>After the docstring in the function a variable called sum_ is set to zero. The trailing underscore is added, so the built-in function <code class="docutils literal notranslate"><span class="pre">sum()</span></code> is not overwritten with the value zero.</p></li>
<li><p>The members in the kwargs argument are iterated over.</p></li>
<li><p>An if-check is made to see whether the member is in the list members.</p></li>
<li><p>If that’s the case the value of the key is added to sum_</p></li>
</ul>
<p>When the function was called an impromptu employee was added as a keyworded argument. He also gets passed into the <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">member</span> <span class="pre">in</span> <span class="pre">kwargs</span></code> for-loop.</p>
<section id="Overwriting-default-values">
<h3>Overwriting default values<a class="headerlink" href="#Overwriting-default-values" title="Permalink to this headline">¶</a></h3>
<p>The **kwargs can be used to define standard values for the function, which convienently can be overwritten by an input **kwargs.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">department_members</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Nancy&#39;</span><span class="p">,</span> <span class="s1">&#39;Keith&#39;</span><span class="p">,</span> <span class="s1">&#39;Richard&#39;</span><span class="p">,</span> <span class="s1">&#39;Ben&#39;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">calculate_new_salary</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate new salaries for employees.&quot;&quot;&quot;</span>
    <span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;payment&#39;</span><span class="p">:</span> <span class="mi">50000</span><span class="p">,</span> <span class="s1">&#39;increase&#39;</span><span class="p">:</span> <span class="mf">1.05</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">defaults</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t parse arguments </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># replace values in default with kwargs</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">defaults</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">}</span>
    <span class="n">pay</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;payment&#39;</span><span class="p">]</span>
    <span class="n">increase</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;increase&#39;</span><span class="p">]</span>

    <span class="c1"># get the remaining **kwargs not in defaults</span>
    <span class="n">boni</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">defaults</span><span class="p">])</span>

    <span class="n">new_salary</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pay</span> <span class="o">*</span> <span class="n">increase</span> <span class="o">+</span> <span class="n">boni</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">member</span><span class="si">}</span><span class="s2"> gets </span><span class="si">{</span><span class="n">new_salary</span><span class="si">}</span><span class="s2"> €.&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">department_members</span><span class="p">:</span>
    <span class="n">calculate_new_salary</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>

<span class="n">calculate_new_salary</span><span class="p">(</span><span class="s1">&#39;Greg, the manager&#39;</span><span class="p">,</span> <span class="n">payment</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">increase</span><span class="o">=</span><span class="mf">1.15</span><span class="p">)</span>

<span class="n">calculate_new_salary</span><span class="p">(</span><span class="s1">&#39;John, the CEO&#39;</span><span class="p">,</span> <span class="n">payment</span><span class="o">=</span><span class="mi">150000</span><span class="p">,</span> <span class="n">increase</span><span class="o">=</span><span class="mf">1.05</span><span class="p">,</span> <span class="n">bonus1</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="n">bonus2</span><span class="o">=</span><span class="mi">8500</span><span class="p">)</span>

<span class="c1"># add_department(department_members, **employee_numbers, Richard=7)</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="Advanced-Classes-OOP">
<h2>Advanced Classes OOP<a class="headerlink" href="#Advanced-Classes-OOP" title="Permalink to this headline">¶</a></h2>
<p>The strength of python lies in the easy creation of new classes and their object-oriented nature.</p>
<p><strong>Why OOP?</strong></p>
<ul class="simple">
<li><p>Modularity for easier troubleshooting</p></li>
<li><p>Reuse of code through inheritance</p></li>
<li><p>Flexibility through polymorphism</p></li>
<li><p>Effective problem solving</p></li>
</ul>
<section id="Instance-variables">
<h3>Instance variables<a class="headerlink" href="#Instance-variables" title="Permalink to this headline">¶</a></h3>
<p>There are class variables and instance variables. Consider this example with a class defining an employee. Let’s start at the most basic level:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>
    <span class="k">pass</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">()</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">()</span>

<span class="n">emp1</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="s1">&#39;Diana&#39;</span>
<span class="n">emp1</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="s1">&#39;Prince&#39;</span>
<span class="n">emp1</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="s1">&#39;diana.price@company.com&#39;</span>
<span class="n">emp1</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="mi">5000</span>

<span class="n">emp2</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="s1">&#39;Clark&#39;</span>
<span class="n">emp2</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="s1">&#39;Kent&#39;</span>
<span class="n">emp2</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="s1">&#39;clark.kene@company.com&#39;</span>
<span class="n">emp2</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="mi">6000</span>

<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="p">,</span> <span class="n">emp2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">first</span><span class="p">,</span> <span class="n">emp1</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">emp1</span><span class="o">.</span><span class="n">email</span><span class="p">,</span> <span class="n">emp1</span><span class="o">.</span><span class="n">pay</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp2</span><span class="o">.</span><span class="n">first</span><span class="p">,</span> <span class="n">emp2</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">emp2</span><span class="o">.</span><span class="n">email</span><span class="p">,</span> <span class="n">emp2</span><span class="o">.</span><span class="n">pay</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>What we have done here is: - Created a class called Employee. - Created two instances of this class (<code class="docutils literal notranslate"><span class="pre">emp1</span></code> and <code class="docutils literal notranslate"><span class="pre">emp2</span></code>), also called instantiating. - Created some variables of these instances (variables of instances are also called attributes).</p>
<p>Instead of setting the instance variables, tediously one after the other for all instances, we can define a placeholder for the current instance in our classes. By convention the instance is called <code class="docutils literal notranslate"><span class="pre">self</span></code> and this instance needs to be the first argument to all methods in our class. The next step is thus:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">last</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Diana&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Clark&#39;</span><span class="p">,</span> <span class="s1">&#39;Kent&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">first</span><span class="p">,</span> <span class="n">emp1</span><span class="o">.</span><span class="n">last</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp2</span><span class="o">.</span><span class="n">first</span><span class="p">,</span> <span class="n">emp2</span><span class="o">.</span><span class="n">last</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Notice how we saved some lines. Also notice how we assigned the input arguments <code class="docutils literal notranslate"><span class="pre">first</span></code> and <code class="docutils literal notranslate"><span class="pre">last</span></code> to the instance variables <code class="docutils literal notranslate"><span class="pre">self.first</span></code> and <code class="docutils literal notranslate"><span class="pre">self.last</span></code>. Wihtout these <code class="docutils literal notranslate"><span class="pre">self</span></code>s, the variables would not be accessible from outside of the method inside the class. We will now add the email and the pay to <code class="docutils literal notranslate"><span class="pre">__init__(self)</span></code>:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">last</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="n">pay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">first</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">last</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">@company.com&#39;</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Diana&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Clark&#39;</span><span class="p">,</span> <span class="s1">&#39;Kent&#39;</span><span class="p">,</span> <span class="mi">6000</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp2</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Now let’s say we want to perform some actions with our classes. This is done by methods. These methods are like functions inside the scope of a class. And they always take the instance (convention <code class="docutils literal notranslate"><span class="pre">self</span></code>) as first argument. Let’s say we want to print the full name of an employee:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">last</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="n">pay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">first</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">last</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">@company.com&#39;</span>

    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="si">}</span><span class="s1">&#39;</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Diana&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Clark&#39;</span><span class="p">,</span> <span class="s1">&#39;Kent&#39;</span><span class="p">,</span> <span class="mi">6000</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">fullname</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp2</span><span class="o">.</span><span class="n">fullname</span><span class="p">())</span>
</pre></div>
</div>
</div>
<p>This might look confusing, because we don’t pass any arguments into the <code class="docutils literal notranslate"><span class="pre">fullname()</span></code> method of the <code class="docutils literal notranslate"><span class="pre">emp1</span></code> instance. but as previously said, <strong>Class methods automatically take the instance as first arguemnt</strong>. What is really happening is this:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Diana&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
<span class="n">fullname</span> <span class="o">=</span> <span class="n">Employee</span><span class="o">.</span><span class="n">fullname</span><span class="p">(</span><span class="n">emp1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fullname</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Here, we provided the instance (<code class="docutils literal notranslate"><span class="pre">emp1</span></code>) to the method <code class="docutils literal notranslate"><span class="pre">fullname()</span></code> of the <code class="docutils literal notranslate"><span class="pre">Employee</span></code> class and because the <code class="docutils literal notranslate"><span class="pre">Employee</span></code> class is not an instance, we need to provide the instance ourselves.</p>
</section>
<section id="Class-variables">
<h3>Class variables<a class="headerlink" href="#Class-variables" title="Permalink to this headline">¶</a></h3>
<p>Class variables are shared between all instances of the class. Let’s say our company raises the payout every year and always by a factor. That would be a good idea to put into a class variable. Let’s first try to hardcode the raise with instance variables and see why class variables are better later.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">last</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="n">pay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">first</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">last</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">@company.com&#39;</span>

    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="k">def</span> <span class="nf">apply_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">*</span> <span class="mf">1.04</span><span class="p">)</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Diana&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Clark&#39;</span><span class="p">,</span> <span class="s1">&#39;Kent&#39;</span><span class="p">,</span> <span class="mi">6000</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">pay</span><span class="p">)</span>
<span class="n">emp1</span><span class="o">.</span><span class="n">apply_raise</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">pay</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Let’s say we want to alter the raise factor by doing something like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">emp1</span><span class="o">.</span><span class="n">raise_amount</span>
<span class="n">Employee</span><span class="o">.</span><span class="n">raise_amount</span>
</pre></div>
</div>
<p>This 4% raise amount (times 1.04) can easily set as an class variable. Inside the <code class="docutils literal notranslate"><span class="pre">apply_raise()</span></code> mehtod we could either use the instance (<code class="docutils literal notranslate"><span class="pre">self</span></code>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">apply_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>
</pre></div>
</div>
<p>or use the class <code class="docutils literal notranslate"><span class="pre">Employee</span></code> itself:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">apply_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">*</span> <span class="n">Employee</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>
</pre></div>
</div>
<p>Which is better?</p>
<p>Depends.</p>
<p>The first one would allow us to increase the <code class="docutils literal notranslate"><span class="pre">pay_amount</span></code> of one Employee:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>

    <span class="n">raise_amount</span> <span class="o">=</span> <span class="mf">1.04</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">last</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="n">pay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">first</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">last</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">@company.com&#39;</span>

    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="k">def</span> <span class="nf">apply_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Diana&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Clark&#39;</span><span class="p">,</span> <span class="s1">&#39;Kent&#39;</span><span class="p">,</span> <span class="mi">6000</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Employee</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp2</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>

<span class="n">emp1</span><span class="o">.</span><span class="n">raise_amount</span> <span class="o">=</span> <span class="mf">1.06</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Employee</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp2</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The second one would allow us to increase the <code class="docutils literal notranslate"><span class="pre">raise_amount</span></code> of all employees at the same time.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>

    <span class="n">raise_amount</span> <span class="o">=</span> <span class="mf">1.04</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">last</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="n">pay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">first</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">last</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">@company.com&#39;</span>

    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="k">def</span> <span class="nf">apply_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">*</span> <span class="n">Employee</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Diana&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Clark&#39;</span><span class="p">,</span> <span class="s1">&#39;Kent&#39;</span><span class="p">,</span> <span class="mi">6000</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Employee</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp2</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>

<span class="n">Employee</span><span class="o">.</span><span class="n">raise_amount</span> <span class="o">=</span> <span class="mf">1.06</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Employee</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp2</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>As a second example for class variables, where it makes no sense to use the instance <code class="docutils literal notranslate"><span class="pre">self</span></code> as a namespace, but the class would be a counter that counts how many instances there are of one class.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>

    <span class="n">raise_amount</span> <span class="o">=</span> <span class="mf">1.04</span>
    <span class="n">num_of_emps</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">last</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="n">pay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">first</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">last</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">@company.com&#39;</span>
        <span class="n">Employee</span><span class="o">.</span><span class="n">num_of_employees</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="k">def</span> <span class="nf">apply_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Diana&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Clark&#39;</span><span class="p">,</span> <span class="s1">&#39;Kent&#39;</span><span class="p">,</span> <span class="mi">6000</span><span class="p">)</span>
<span class="n">emp3</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Wade&#39;</span><span class="p">,</span> <span class="s1">&#39;Wilson&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Employee</span><span class="o">.</span><span class="n">num_of_emps</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Inheritance">
<h3>Inheritance<a class="headerlink" href="#Inheritance" title="Permalink to this headline">¶</a></h3>
<p>Inheritance allows us to inherit attribnutes and method of parent classes into child classes and overwrite attributes and methods as we like. Let’s say we want to create different type of employees: developers and managers. Both have names and emails. So we can reuse the code from the <code class="docutils literal notranslate"><span class="pre">Employee</span></code> class. With parentheses after the <code class="docutils literal notranslate"><span class="pre">class</span></code> statement we can inherit from other classes.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>

    <span class="n">raise_amount</span> <span class="o">=</span> <span class="mf">1.04</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">last</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="n">pay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">first</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">last</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">@company.com&#39;</span>

    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="k">def</span> <span class="nf">apply_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Developer</span><span class="p">(</span><span class="n">Employee</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="n">dev1</span> <span class="o">=</span> <span class="n">Developer</span><span class="p">(</span><span class="s1">&#39;Diana&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
<span class="n">dev2</span> <span class="o">=</span> <span class="n">Developer</span><span class="p">(</span><span class="s1">&#39;Clark&#39;</span><span class="p">,</span> <span class="s1">&#39;Kent&#39;</span><span class="p">,</span> <span class="mi">6000</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">dev1</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dev2</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>We want to customize our child classes. Let’s first see, what happens, if we raise the pay of developers.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">dev1</span><span class="o">.</span><span class="n">pay</span><span class="p">)</span>
<span class="n">dev1</span><span class="o">.</span><span class="n">apply_raise</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dev1</span><span class="o">.</span><span class="n">pay</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Let’s say we want out Developers to have a higher <code class="docutils literal notranslate"><span class="pre">raise_amount</span></code>:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Developer</span><span class="p">(</span><span class="n">Employee</span><span class="p">):</span>
    <span class="n">raise_amount</span> <span class="o">=</span> <span class="mf">1.1</span>
    <span class="k">pass</span>

<span class="n">dev1</span> <span class="o">=</span> <span class="n">Developer</span><span class="p">(</span><span class="s1">&#39;Diana&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dev1</span><span class="o">.</span><span class="n">pay</span><span class="p">)</span>
<span class="n">dev1</span><span class="o">.</span><span class="n">apply_raise</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dev1</span><span class="o">.</span><span class="n">pay</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>You can see, that the pay increased by 10%. Our Employees are untouched by this change. Let’s make a few more changes. Let’s say we have additional information for Developers, like their current programming language. Instead of writing a completely new function (the <code class="docutils literal notranslate"><span class="pre">email</span></code> attribute and the <code class="docutils literal notranslate"><span class="pre">fullname()</span></code> methoud should stay the same), we can give the <code class="docutils literal notranslate"><span class="pre">Developer</span></code> class its own <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> method.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Developer</span><span class="p">(</span><span class="n">Employee</span><span class="p">):</span>

    <span class="n">raise_amount</span> <span class="o">=</span> <span class="mf">1.1</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span><span class="p">,</span> <span class="n">prog_lang</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prog_lang</span> <span class="o">=</span> <span class="n">prog_lang</span>
</pre></div>
</div>
</div>
<p>With the <code class="docutils literal notranslate"><span class="pre">super().__init__()</span></code> method, we make the <code class="docutils literal notranslate"><span class="pre">Employee</span></code> class handle the pay and email and everything that happens in the <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> method of the <code class="docutils literal notranslate"><span class="pre">Employee</span></code> class. The <code class="docutils literal notranslate"><span class="pre">Developer</span></code> class then does its own stuff with the <code class="docutils literal notranslate"><span class="pre">prog_lang</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dev1</span> <span class="o">=</span> <span class="n">Developer</span><span class="p">(</span><span class="s1">&#39;Diana&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="s1">&#39;python&#39;</span><span class="p">)</span>
<span class="n">dev2</span> <span class="o">=</span> <span class="n">Developer</span><span class="p">(</span><span class="s1">&#39;Clark&#39;</span><span class="p">,</span> <span class="s1">&#39;Kent&#39;</span><span class="p">,</span> <span class="mi">6000</span><span class="p">,</span> <span class="s1">&#39;java&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">dev1</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dev1</span><span class="o">.</span><span class="n">prog_lang</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>Let’s look at another example using class inheritance</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Polygon</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">no_of_sides</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="n">no_of_sides</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sides</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">)]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> init.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">inputSides</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="c1"># take an undefined number of args</span>
        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sides</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sides</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enter </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;s side </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> length: &quot;</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">)]</span>

    <span class="k">def</span> <span class="nf">dispSides</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Side </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sides</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2"> length units long.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_findArea</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Area of arbitrary Polygon not defined.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">printArea</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_findArea</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The area of the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">area</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> area units.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">quadrilateral</span> <span class="o">=</span> <span class="n">Polygon</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">quadrilateral</span><span class="o">.</span><span class="n">inputSides</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">19</span><span class="p">)</span>
<span class="n">quadrilateral</span><span class="o">.</span><span class="n">dispSides</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>The Triangle class inherits from the Polygon class.</p>
<p>In the Triangle class’ <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> method, the <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> method of the parent class needs to be called, this can be done with either:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Base</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="o">...</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>However, if we do it this way, the lookup for methods might get scrambled, when we have multiple inheritances (So a Base class, a Child_A class, that inherits from Base and a Child_B class, that inherits from Child_A). With the builtin <code class="docutils literal notranslate"><span class="pre">super()</span></code> method that Method-Resolution-Order (MRO) is like expected: First look for the method in Child_B, then Child_A, then Base.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="o">...</span>
    <span class="o">...</span>
</pre></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Triangle</span><span class="p">(</span><span class="n">Polygon</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># pass 3 to the parent class&#39; __init__</span>

    <span class="k">def</span> <span class="nf">_findArea</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span>
        <span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">area</span> <span class="o">=</span> <span class="p">(</span><span class="n">s</span><span class="o">*</span><span class="p">(</span><span class="n">s</span><span class="o">-</span><span class="n">a</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">s</span><span class="o">-</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">s</span><span class="o">-</span><span class="n">c</span><span class="p">))</span> <span class="o">**</span> <span class="mf">0.5</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tri</span> <span class="o">=</span> <span class="n">Triangle</span><span class="p">()</span>
<span class="n">tri</span><span class="o">.</span><span class="n">inputSides</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">tri</span><span class="o">.</span><span class="n">printArea</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Let’s create a rectangle and include checks for the side lengths.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Rectangle</span><span class="p">(</span><span class="n">Polygon</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># pass 4 to the parent class&#39; __init__</span>

    <span class="k">def</span> <span class="nf">inputSides</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="c1"># check the length of the sides</span>
        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">args</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;Side a and c of a rectangle need to be of equal length.&quot;</span>
            <span class="k">assert</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">args</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;Side b and d of a rectangle need to be of equal length.&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">inputSides</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="c1"># call the parent class&#39; inputSides() method.</span>

    <span class="k">def</span> <span class="nf">_findArea</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">area</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">()</span>
<span class="n">rect</span><span class="o">.</span><span class="n">inputSides</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">rect</span><span class="o">.</span><span class="n">printArea</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>There are some checks builtin to class inheritance for your convenience.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">tri</span><span class="p">,</span> <span class="n">Triangle</span><span class="p">))</span> <span class="c1"># standard isinstance builtin function</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">issubclass</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">,</span> <span class="n">Polygon</span><span class="p">))</span> <span class="c1"># there is also a issubclass() builtin</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">issubclass</span><span class="p">(</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">int</span><span class="p">))</span> <span class="c1"># interestingly, bool is a subclass of int. Whomst&#39;d&#39;ve !</span>
</pre></div>
</div>
</div>
</section>
<section id="Double-under-methods">
<h3>Double under methods<a class="headerlink" href="#Double-under-methods" title="Permalink to this headline">¶</a></h3>
<p>These double under methods also called magic methods allow our classes to work with some builtin functions and also use operator overloading. Here is a short overview over these so-called dunder methods:</p>
<section id="Creation-__new__">
<h4>Creation __new__<a class="headerlink" href="#Creation-__new__" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">__new__</span></code> method can be used to either execute the class’ <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method or not. Sometimes you don’t want to instantiate an instance from a class, because of something. You can control that with the <code class="docutils literal notranslate"><span class="pre">__new__</span></code> method. It takes the class (convention <code class="docutils literal notranslate"><span class="pre">cls</span></code>) as first argument and needs all other arguments, that <code class="docutils literal notranslate"><span class="pre">__init__</span></code> also takes.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Shape</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">sides</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">sides</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Triangle</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Square</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Triangle</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">height</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base</span> <span class="o">=</span> <span class="n">base</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>

    <span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>


<span class="k">class</span> <span class="nc">Square</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">length</span> <span class="o">=</span> <span class="n">length</span>

    <span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">length</span>


<span class="n">a</span> <span class="o">=</span> <span class="n">Shape</span><span class="p">(</span><span class="n">sides</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Shape</span><span class="p">(</span><span class="n">sides</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">area</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">area</span><span class="p">())</span>
</pre></div>
</div>
</div>
</section>
<section id="Representation-__str__-and-__repr__">
<h4>Representation __str__ and __repr__<a class="headerlink" href="#Representation-__str__-and-__repr__" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">__str__()</span></code> and <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code> Methods are what’s called when the class is printed and returned, respectively.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">integer</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">int</span> <span class="o">=</span> <span class="n">integer</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;</span><span class="si">%s</span><span class="s2"> at memory address 0x</span><span class="si">%02x</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">(),</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Instance of MyClass. Contains the integer </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">int</span><span class="si">}</span><span class="s1">.&#39;</span>

<span class="n">myclass</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">myclass</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">myclass</span>
</pre></div>
</div>
</div>
</section>
<section id="Types-__bool__">
<h4>Types __bool__<a class="headerlink" href="#Types-__bool__" title="Permalink to this headline">¶</a></h4>
<p>You can assign your custom class a boolean value:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Items</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">items</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="n">items</span>

    <span class="k">def</span> <span class="fm">__bool__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span>

<span class="n">items1</span> <span class="o">=</span> <span class="n">Items</span><span class="p">()</span>
<span class="n">items2</span> <span class="o">=</span> <span class="n">Items</span><span class="p">([</span><span class="s1">&#39;pen&#39;</span><span class="p">,</span> <span class="s1">&#39;book&#39;</span><span class="p">,</span> <span class="s1">&#39;binder&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="n">items1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="n">items2</span><span class="p">))</span>
</pre></div>
</div>
</div>
</section>
<section id="Indexing-__len__-,-__getitem__-and-__reversed__">
<h4>Indexing __len__ , __getitem__ and __reversed__<a class="headerlink" href="#Indexing-__len__-,-__getitem__-and-__reversed__" title="Permalink to this headline">¶</a></h4>
<p>With these dunder methods you can make your items iterable <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">item</span> <span class="pre">in</span> <span class="pre">iterable</span></code>, indexable <code class="docutils literal notranslate"><span class="pre">class[index]</span></code> and also let the buildin function <code class="docutils literal notranslate"><span class="pre">reversed()</span></code> act on your classes.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">some_numbers</span><span class="p">):</span>
        <span class="c1"># sort the numbers into negative and postive numbers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">positive</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">some_numbers</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">negative</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">some_numbers</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gives the length of positive and negative numbers.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">positive</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">negative</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;-1 gives negative numbers, +1 gives positive.</span>
<span class="sd">        Otherwise this __getitem__ is pretty stupid.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">negative</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">positive</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;MyClass index can either be -1 or 1. You provided </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__reversed__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a new instance with negative and positives swapped.</span>
<span class="sd">        Also a pretty stupid idea.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_instance</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">positive</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">negative</span><span class="p">)</span>
        <span class="n">new_instance</span><span class="o">.</span><span class="n">negative</span><span class="p">,</span> <span class="n">new_instance</span><span class="o">.</span><span class="n">positive</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">positive</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">negative</span>
        <span class="k">return</span> <span class="n">new_instance</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_numbers</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>

<span class="n">myclass</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">(</span><span class="n">my_numbers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">myclass</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">my_numbers</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">myclass</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">myclass</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="n">notmyclass</span> <span class="o">=</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">myclass</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">notmyclass</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
</section>
<section id="Comparing-__eq__-and-__lt__-and-so-on.">
<h4>Comparing __eq__ and __lt__ and so on.<a class="headerlink" href="#Comparing-__eq__-and-__lt__-and-so-on." title="Permalink to this headline">¶</a></h4>
<p>With these dunder methods you can use the comparison operators with your custom classes.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Animal</span><span class="p">:</span>

    <span class="n">animal_weights</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;blue whale&#39;</span><span class="p">:</span> <span class="mi">136000</span><span class="p">,</span> <span class="s1">&#39;giraffe&#39;</span><span class="p">:</span> <span class="mi">800</span><span class="p">,</span> <span class="s1">&#39;polar bear&#39;</span><span class="p">:</span> <span class="mi">475</span><span class="p">,</span>
                      <span class="s1">&#39;red deer&#39;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s1">&#39;tiger&#39;</span><span class="p">:</span> <span class="mi">120</span><span class="p">,</span> <span class="s1">&#39;cheetah&#39;</span><span class="p">:</span> <span class="mi">54</span><span class="p">,</span> <span class="s1">&#39;chimpanzee&#39;</span><span class="p">:</span> <span class="mi">45</span><span class="p">,</span>
                      <span class="s1">&#39;coyote&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;nutria&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">}</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">animal</span> <span class="o">=</span> <span class="n">animal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="n">Animal</span><span class="o">.</span><span class="n">animal_weights</span><span class="p">[</span><span class="n">animal</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">weight</span>

    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">weight</span>

    <span class="k">def</span> <span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">weight</span>

    <span class="k">def</span> <span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">&gt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">weight</span>

    <span class="k">def</span> <span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">&lt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">weight</span>

    <span class="k">def</span> <span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">weight</span>

<span class="n">animal1</span> <span class="o">=</span> <span class="n">Animal</span><span class="p">(</span><span class="s1">&#39;blue whale&#39;</span><span class="p">)</span>
<span class="n">animal2</span> <span class="o">=</span> <span class="n">Animal</span><span class="p">(</span><span class="s1">&#39;polar bear&#39;</span><span class="p">)</span>
<span class="n">animal3</span> <span class="o">=</span> <span class="n">Animal</span><span class="p">(</span><span class="s1">&#39;nutria&#39;</span><span class="p">)</span>
<span class="n">animal4</span> <span class="o">=</span> <span class="n">Animal</span><span class="p">(</span><span class="s1">&#39;polar bear&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">animal1</span> <span class="o">==</span> <span class="n">animal2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">animal1</span> <span class="o">&gt;</span> <span class="n">animal2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">animal1</span> <span class="o">&lt;</span> <span class="n">animal2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">animal2</span> <span class="o">==</span> <span class="n">animal4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">animal2</span> <span class="o">&gt;=</span> <span class="n">animal4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">animal2</span> <span class="o">&lt;=</span> <span class="n">animal4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Merging-__add__">
<h4>Merging __add__<a class="headerlink" href="#Merging-__add__" title="Permalink to this headline">¶</a></h4>
<p>With this dunder method, you can choose what happens, if the <code class="docutils literal notranslate"><span class="pre">+</span></code> operator is called with your class. Here, you are free to choose what happens. You don’t need to add similar instances:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">NewAnimal</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">+=</span> <span class="n">other</span>
        <span class="k">return</span> <span class="bp">self</span>

<span class="n">animal</span> <span class="o">=</span> <span class="n">NewAnimal</span><span class="p">(</span><span class="s1">&#39;polar bear&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">weight</span><span class="p">)</span>
<span class="n">animal</span> <span class="o">+=</span> <span class="mi">50</span>
<span class="nb">print</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">weight</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>But most often, it is advised, that <code class="docutils literal notranslate"><span class="pre">__add__</span></code> takes the same class as self. But the returned class doesn’t need to be the same.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Herd</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animals</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">animals</span> <span class="o">=</span> <span class="n">animals</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">animal</span><span class="o">.</span><span class="n">weight</span> <span class="k">for</span> <span class="n">animal</span> <span class="ow">in</span> <span class="n">animals</span><span class="p">])</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Herd</span><span class="p">):</span>
            <span class="n">animals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animals</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">animals</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">HerdAnimal</span><span class="p">):</span>
            <span class="n">animals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animals</span> <span class="o">+</span> <span class="p">[</span><span class="n">other</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">Herd</span><span class="p">(</span><span class="n">animals</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Herd with </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">animals</span><span class="p">)</span><span class="si">}</span><span class="s2"> animals&quot;</span>

<span class="k">class</span> <span class="nc">HerdAnimal</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Herd</span><span class="p">([</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">])</span>

<span class="n">animal1</span> <span class="o">=</span> <span class="n">HerdAnimal</span><span class="p">(</span><span class="s1">&#39;blue whale&#39;</span><span class="p">)</span>
<span class="n">animal2</span> <span class="o">=</span> <span class="n">HerdAnimal</span><span class="p">(</span><span class="s1">&#39;polar bear&#39;</span><span class="p">)</span>
<span class="n">animal3</span> <span class="o">=</span> <span class="n">HerdAnimal</span><span class="p">(</span><span class="s1">&#39;nutria&#39;</span><span class="p">)</span>

<span class="n">herd</span> <span class="o">=</span> <span class="n">animal1</span> <span class="o">+</span> <span class="n">animal2</span> <span class="o">+</span> <span class="n">animal3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">herd</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Callable-objects-__call__">
<h4>Callable objects __call__<a class="headerlink" href="#Callable-objects-__call__" title="Permalink to this headline">¶</a></h4>
<p>You can call instances. Calls are always done by parentheses <code class="docutils literal notranslate"><span class="pre">()</span></code> in python. Just like when you call functions.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Division</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dividend</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dividend</span> <span class="o">=</span> <span class="n">dividend</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dividend</span> <span class="o">/</span> <span class="n">x</span>

<span class="n">div</span> <span class="o">=</span> <span class="n">Division</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">div</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
</section>
<section id="Context-Manager-__enter__-and-__exit__">
<h4>Context Manager __enter__ and __exit__<a class="headerlink" href="#Context-Manager-__enter__-and-__exit__" title="Permalink to this headline">¶</a></h4>
<p>To open files in python you can do something like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>f = open(&quot;test.txt&quot;)
data = f.read()
f.close()
line1 = data[0]
...
...

However, you might already have come across this syntax:

```python
with open(&quot;test.txt&quot;) as f:
    data = f.read()
# more code
line1 = data[0]
...
...
</pre></div>
</div>
<p>This is the new syntax, which replaces the old <code class="docutils literal notranslate"><span class="pre">open()</span></code> and <code class="docutils literal notranslate"><span class="pre">close()</span></code> builtin function and file-object method. The <code class="docutils literal notranslate"><span class="pre">with</span></code> expression starts what is called a context manager. Context managers are used when you want to free up system resources. Opened file objects and opened databases for example don’t need to stay in memory once the needed information has been extracted. Context managers also come in handy, because on linux systems the number of concurrently opened files is limited to 1024.
To create a context manager for your class you need to add some magic, dunder methods.</p>
<p>Take a close look at how the <code class="docutils literal notranslate"><span class="pre">__enter__()</span></code> method returns the self instance of the class. This is the instance of the class, that will be used inside the context manager.</p>
<p>The arguments in the <code class="docutils literal notranslate"><span class="pre">__exit__()</span></code> method are used to deal with Exceptions. Take note, how instance variables are deleted to free up space.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyContextManager</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Init called&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Enter method called. Populating scope...&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">int</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">str</span> <span class="o">=</span> <span class="s1">&#39;Tim the Enchanter!&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">large_variable</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)]</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_traceback</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Exit method called.&#39;</span><span class="p">)</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">int</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">str</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">large_variable</span>

    <span class="k">def</span> <span class="nf">divide_by_zero_err</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">int</span> <span class="o">/</span> <span class="mi">0</span>

<span class="k">with</span> <span class="n">MyContextManager</span><span class="p">()</span> <span class="k">as</span> <span class="n">manager</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inside Context&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">manager</span><span class="o">.</span><span class="n">large_variable</span><span class="p">[</span><span class="mi">20</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>The instance variables str, int, and large_variable have been deleted, once the context is closed.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">manager</span><span class="o">.</span><span class="n">str</span>
</pre></div>
</div>
</div>
<p>What about the exc_type arguments? Those are to make sure the <code class="docutils literal notranslate"><span class="pre">__exit__()</span></code> method is called, although some Exception is encountered in the context manager. First the method with the arguments</p>
</section>
<section id="Iteration-__iter__-and-__next__">
<h4>Iteration __iter__ and __next__<a class="headerlink" href="#Iteration-__iter__-and-__next__" title="Permalink to this headline">¶</a></h4>
<p>These methods allow you to iterate over something in your custom class.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">string</span> <span class="kn">import</span> <span class="n">ascii_letters</span><span class="p">,</span> <span class="n">ascii_uppercase</span>

<span class="k">class</span> <span class="nc">Alphabet</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alphabet</span><span class="o">=</span><span class="n">ascii_letters</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alphabet</span> <span class="o">=</span> <span class="n">alphabet</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max</span> <span class="o">=</span> <span class="mi">24</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">alphabet</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>

<span class="n">alphabet1</span> <span class="o">=</span> <span class="n">Alphabet</span><span class="p">()</span>
<span class="n">alphabet2</span> <span class="o">=</span> <span class="n">Alphabet</span><span class="p">(</span><span class="n">ascii_uppercase</span><span class="p">)</span>

<span class="k">for</span> <span class="n">number</span><span class="p">,</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">alphabet1</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">letter</span><span class="p">)</span>

<span class="k">for</span> <span class="n">number</span><span class="p">,</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">alphabet2</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">letter</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="Built-in-decorators">
<h3>Built-in decorators<a class="headerlink" href="#Built-in-decorators" title="Permalink to this headline">¶</a></h3>
<p>Before going on some lengthy tangent about what a decorator is and how to write one on your own, let’s just one of the three built-in decorators:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;property</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;setter</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;classmethod</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;staticmethod</span></code></p></li>
</ul>
<section id="The-property-decorator">
<h4>The property decorator<a class="headerlink" href="#The-property-decorator" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code> decorator is often used and adds a nice way of dynamically defining instance variables (also called attributes). Let’s reuse our <code class="docutils literal notranslate"><span class="pre">Employee</span></code> function and say don’t want to set the <code class="docutils literal notranslate"><span class="pre">self.email</span></code> attribute inside the <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> method. What if the name of a employee changes? The email would still be the same. So let’s create a method called <code class="docutils literal notranslate"><span class="pre">email()</span></code></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">last</span>

    <span class="k">def</span> <span class="nf">email</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">@company.com&#39;</span>

    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="si">}</span><span class="s1">&#39;</span>

<span class="n">emp_1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Jane&#39;</span><span class="p">,</span> <span class="s1">&#39;Doe&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp_1</span><span class="o">.</span><span class="n">email</span><span class="p">())</span>
</pre></div>
</div>
</div>
<p>This is good and all, but now we need to call the <code class="docutils literal notranslate"><span class="pre">email()</span></code> method every time, we need the email. Some of the above code only uses the <code class="docutils literal notranslate"><span class="pre">self.email</span></code> attribute. Changing the class this way might break some of our old code. So let’s use the <code class="docutils literal notranslate"><span class="pre">&#64;propert</span></code> decorator:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">last</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">email</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">@company.com&#39;</span>

    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="si">}</span><span class="s1">&#39;</span>

<span class="n">emp_1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Jane&#39;</span><span class="p">,</span> <span class="s1">&#39;Doe&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp_1</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>And now <code class="docutils literal notranslate"><span class="pre">self.email</span></code> behaves just like an attribute. That’s the purpose of the <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code> decorator. The same could be done for the <code class="docutils literal notranslate"><span class="pre">fullname()</span></code> method. But let’s not stop there. With a <code class="docutils literal notranslate"><span class="pre">&#64;setter</span></code> decorator we could achieve a piece of code that returns fullname as an attribute (without parentheses):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">emp_1</span><span class="o">.</span><span class="n">fullname</span><span class="p">)</span>
<span class="go">Jane Doe</span>
</pre></div>
</div>
<p>but also allows us to change the instance’s <code class="docutils literal notranslate"><span class="pre">first</span></code> and <code class="docutils literal notranslate"><span class="pre">last</span></code> arttributes by doing:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">emp_1</span><span class="o">.</span><span class="n">fullname</span> <span class="o">=</span> <span class="s1">&#39;Jane Smith&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">emp_1</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
<span class="go">jane.smith@company.com</span>
</pre></div>
</div>
</section>
<section id="The-setter-decorator">
<h4>The setter decorator<a class="headerlink" href="#The-setter-decorator" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">last</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">email</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">@company.com&#39;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="nd">@fullname</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_fullname</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">new_fullname</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

<span class="n">emp_1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Jane&#39;</span><span class="p">,</span> <span class="s1">&#39;Doe&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp_1</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
<span class="n">emp_1</span><span class="o">.</span><span class="n">fullname</span> <span class="o">=</span> <span class="s1">&#39;Jane Smith&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp_1</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="The-deleter-decorator">
<h4>The deleter decorator<a class="headerlink" href="#The-deleter-decorator" title="Permalink to this headline">¶</a></h4>
<p>The code inside the deleter decorator is executed once the variable is accessed.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">last</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">email</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s1">@company.com&#39;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="nd">@fullname</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_fullname</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">new_fullname</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

    <span class="nd">@fullname</span><span class="o">.</span><span class="n">deleter</span>
    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Deleting Name!&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="kc">None</span>

<span class="n">emp_1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Jane&#39;</span><span class="p">,</span> <span class="s1">&#39;Doe&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp_1</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
<span class="k">del</span> <span class="n">emp_1</span><span class="o">.</span><span class="n">fullname</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp_1</span><span class="o">.</span><span class="n">first</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="The-classmethod-decorator">
<h4>The classmethod decorator<a class="headerlink" href="#The-classmethod-decorator" title="Permalink to this headline">¶</a></h4>
<p>Regular methods (also the <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> method) take the instance of the class as first argument. By convention, we call the instance of the class inside the class itself <code class="docutils literal notranslate"><span class="pre">self</span></code>, but other variables are possible. There are, however some special decorators (more on decorators later) that you can use to circumvent this.</p>
<p>Class methods take the class as first argument (per convention <code class="docutils literal notranslate"><span class="pre">cls</span></code>) and return a new instance of the class, with something altered. For example, the raise_amount:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>

    <span class="n">raise_amount</span> <span class="o">=</span> <span class="mf">1.04</span>
    <span class="n">num_of_emps</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">last</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="n">pay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">@company.com&quot;</span>

        <span class="c1"># change the class variable of the Employee class everytime __init__ is called</span>
        <span class="n">Employee</span><span class="o">.</span><span class="n">num_of_emps</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">apply_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">set_raise_amount</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">raise_amount</span> <span class="o">=</span> <span class="n">amount</span>


<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Clark&#39;</span><span class="p">,</span> <span class="s1">&#39;Kent&#39;</span><span class="p">,</span> <span class="mi">50000</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Bruce&#39;</span><span class="p">,</span> <span class="s1">&#39;Wayne&#39;</span><span class="p">,</span> <span class="mi">60000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">pay</span><span class="p">,</span> <span class="n">emp2</span><span class="o">.</span><span class="n">pay</span><span class="p">)</span>
<span class="n">emp1</span><span class="o">.</span><span class="n">apply_raise</span><span class="p">();</span> <span class="n">emp2</span><span class="o">.</span><span class="n">apply_raise</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">pay</span><span class="p">,</span> <span class="n">emp2</span><span class="o">.</span><span class="n">pay</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Apply changes class-wide</span>
<span class="n">Employee</span><span class="o">.</span><span class="n">set_raise_amount</span><span class="p">(</span><span class="mf">1.1</span><span class="p">)</span>
<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Clark&#39;</span><span class="p">,</span> <span class="s1">&#39;Kent&#39;</span><span class="p">,</span> <span class="mi">50000</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Bruce&#39;</span><span class="p">,</span> <span class="s1">&#39;Wayne&#39;</span><span class="p">,</span> <span class="mi">60000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">pay</span><span class="p">,</span> <span class="n">emp2</span><span class="o">.</span><span class="n">pay</span><span class="p">)</span>
<span class="n">emp1</span><span class="o">.</span><span class="n">apply_raise</span><span class="p">();</span> <span class="n">emp2</span><span class="o">.</span><span class="n">apply_raise</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">pay</span><span class="p">,</span> <span class="n">emp2</span><span class="o">.</span><span class="n">pay</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>Classes with different constructors</strong></p>
<p>Let’s say, we want to create new employees from a string of the type: firstname-lastname-pay. We use the split() method of the string object to split it based on the hyphens.</p>
<p>We use a class method for this alternate constructor. Per convention, these methods start with <em>from</em></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">str1</span> <span class="o">=</span> <span class="s1">&#39;Clark-Kent-50000&#39;</span>
<span class="n">str2</span> <span class="o">=</span> <span class="s1">&#39;Bruce-Wayne-60000&#39;</span>

<span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span> <span class="o">=</span> <span class="n">str1</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>

    <span class="n">raise_amount</span> <span class="o">=</span> <span class="mf">1.04</span>
    <span class="n">num_of_emps</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">last</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="n">pay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">@company.com&quot;</span>

        <span class="c1"># change the class variable of the Employee class everytime __init__ is called</span>
        <span class="n">Employee</span><span class="o">.</span><span class="n">num_of_emps</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">apply_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">set_raise_amount</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">raise_amount</span> <span class="o">=</span> <span class="n">amount</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">employee_string</span><span class="p">):</span>
        <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span> <span class="o">=</span> <span class="n">employee_string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span><span class="p">)</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s1">&#39;Clark&#39;</span><span class="p">,</span> <span class="s1">&#39;Kent&#39;</span><span class="p">,</span> <span class="mi">50000</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="s1">&#39;Bruce-Wayne-60000&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">email</span><span class="p">,</span> <span class="n">emp2</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>Static method decorator</strong></p>
<p>If there’s a method inside a class, that would also make sense outside the scope of the class, you can make it a static method. This static method can now be called directly from the class without having to create an instance. Note, how there is no <code class="docutils literal notranslate"><span class="pre">self</span></code> or <code class="docutils literal notranslate"><span class="pre">cls</span></code> in the <code class="docutils literal notranslate"><span class="pre">is_workday()</span></code> static method.</p>
<p>A good giveaway, whether a method should be a staticmethod is, when you don’t access the class, or the instance.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>

    <span class="n">raise_amount</span> <span class="o">=</span> <span class="mf">1.04</span>
    <span class="n">num_of_emps</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">last</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="n">pay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">@company.com&quot;</span>

        <span class="c1"># change the class variable of the Employee class everytime __init__ is called</span>
        <span class="n">Employee</span><span class="o">.</span><span class="n">num_of_emps</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">fullname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">apply_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pay</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">raise_amount</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">set_raise_amount</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">raise_amount</span> <span class="o">=</span> <span class="n">amount</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">employee_string</span><span class="p">):</span>
        <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span> <span class="o">=</span> <span class="n">employee_string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">pay</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">is_workday</span><span class="p">(</span><span class="n">day</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">day</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span> <span class="o">==</span> <span class="mi">5</span> <span class="ow">or</span> <span class="n">day</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

<span class="kn">import</span> <span class="nn">datetime</span>
<span class="n">my_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Employee</span><span class="o">.</span><span class="n">is_workday</span><span class="p">(</span><span class="n">my_date</span><span class="p">))</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="s1">&#39;Clark-Kent-50000&#39;</span><span class="p">)</span>
<span class="n">my_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">is_workday</span><span class="p">(</span><span class="n">my_date</span><span class="p">))</span>
</pre></div>
</div>
</div>
</section>
</section>
</section>
<section id="Custom-decorators">
<h2>Custom decorators<a class="headerlink" href="#Custom-decorators" title="Permalink to this headline">¶</a></h2>
<p>Now that we have learned about the built-in decorators let’s write our own. For that we need to write a <em>closure</em>. A closure is a function that returns a function. The general style is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">outer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">inner</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">args</span>
    <span class="k">return</span> <span class="n">inner</span>
</pre></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">arithmetic</span><span class="p">(</span><span class="n">operation</span><span class="o">=</span><span class="s1">&#39;addition&#39;</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">addition</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
    <span class="k">def</span> <span class="nf">subtraction</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span>
    <span class="k">def</span> <span class="nf">multiplication</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
    <span class="k">def</span> <span class="nf">division</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span class="n">y</span>
    <span class="k">return</span> <span class="nb">locals</span><span class="p">()[</span><span class="n">operation</span><span class="p">]</span>

<span class="n">arithmetic</span><span class="p">(</span><span class="s1">&#39;addition&#39;</span><span class="p">)(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">arithmetic</span><span class="p">(</span><span class="s1">&#39;subtraction&#39;</span><span class="p">)(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>But not only that, we need our outer function to accept a function as argument. Like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Do something before function call&quot;</span><span class="p">)</span>
        <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Do something after the function call&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper</span>
</pre></div>
</div>
<p>Let’s write a decorator that sorts the <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> alphabetically:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sorted_kwargs</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">())}</span>
        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper</span>

<span class="k">def</span> <span class="nf">increase_price</span><span class="p">(</span><span class="n">increase</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">value</span> <span class="o">*</span> <span class="n">increase</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

<span class="n">items</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;apple&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;milk&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;potatoes&#39;</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">}</span>

<span class="c1"># first without decorator</span>
<span class="nb">print</span><span class="p">(</span><span class="n">increase_price</span><span class="p">(</span><span class="o">**</span><span class="n">items</span><span class="p">))</span>

<span class="c1"># now with decorator so let&#39;s decorate our function</span>
<span class="n">increase_price</span> <span class="o">=</span> <span class="n">sorted_kwargs</span><span class="p">(</span><span class="n">increase_price</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">increase_price</span><span class="p">(</span><span class="o">**</span><span class="n">items</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>Instead of defining our <code class="docutils literal notranslate"><span class="pre">increase_price()</span></code> function twice (once for creating the function and once for adding the decorator), we could add the decorator as a syntactic sugar with the known <code class="docutils literal notranslate"><span class="pre">&#64;decorator</span></code> function:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@sorted_kwargs</span>
<span class="k">def</span> <span class="nf">increase_price</span><span class="p">(</span><span class="n">increase</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">value</span> <span class="o">*</span> <span class="n">increase</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

<span class="nb">print</span><span class="p">(</span><span class="n">increase_price</span><span class="p">(</span><span class="o">**</span><span class="n">items</span><span class="p">))</span>
</pre></div>
</div>
</div>
<section id="Useful-use-cases">
<h3>Useful use-cases<a class="headerlink" href="#Useful-use-cases" title="Permalink to this headline">¶</a></h3>
<p>Do something more often.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">do_three_times</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">func</span><span class="p">()</span>
        <span class="n">func</span><span class="p">()</span>
        <span class="n">func</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">wrapper</span>

<span class="nd">@do_three_times</span>
<span class="k">def</span> <span class="nf">print_hello_world</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello world&quot;</span><span class="p">)</span>

<span class="n">print_hello_world</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Debug a function py printing <code class="docutils literal notranslate"><span class="pre">*args</span></code> and <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">args_repr</span> <span class="o">=</span> <span class="p">[</span><span class="nb">repr</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span>                      <span class="c1"># 1</span>
        <span class="n">kwargs_repr</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">v</span><span class="si">!r}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>  <span class="c1"># 2</span>
        <span class="n">signature</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args_repr</span> <span class="o">+</span> <span class="n">kwargs_repr</span><span class="p">)</span>           <span class="c1"># 3</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Calling </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">signature</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">!r}</span><span class="s2"> returned </span><span class="si">{</span><span class="n">value</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>           <span class="c1"># 4</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">wrapper</span>

<span class="nd">@debug</span>
<span class="k">def</span> <span class="nf">make_greeting</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">age</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Howdy </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Whoa </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">! </span><span class="si">{</span><span class="n">age</span><span class="si">}</span><span class="s2"> already, you are growing up!&quot;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">make_greeting</span><span class="p">(</span><span class="s2">&quot;Benjamin&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">make_greeting</span><span class="p">(</span><span class="s2">&quot;Richard&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">112</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Preserve-identity-with-functools.wraps">
<h3>Preserve identity with functools.wraps<a class="headerlink" href="#Preserve-identity-with-functools.wraps" title="Permalink to this headline">¶</a></h3>
<p>We have a small problem, when using decorators this way:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">make_greeting</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">make_greeting</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Our function now has the <code class="docutils literal notranslate"><span class="pre">__name__</span></code> attribute <code class="docutils literal notranslate"><span class="pre">wrapper</span></code>. Ugh. That’s not good and can lead to some problems later down the line. That’s why it is recommended to use <code class="docutils literal notranslate"><span class="pre">&#64;functools.wraps(func)</span></code> in decorator definitions:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">functools</span>

<span class="k">def</span> <span class="nf">do_three_times</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">func</span><span class="p">()</span>
        <span class="n">func</span><span class="p">()</span>
        <span class="n">func</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">wrapper</span>

<span class="nd">@do_three_times</span>
<span class="k">def</span> <span class="nf">print_hello_world</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello world&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">print_hello_world</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">print_hello_world</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>All good.</p>
</section>
</section>
<section id="Decorator-classes">
<h2>Decorator classes<a class="headerlink" href="#Decorator-classes" title="Permalink to this headline">¶</a></h2>
<p>We could use a decorator class to count how often a function that has this decorator has been called. For that we need the previously introduced <code class="docutils literal notranslate"><span class="pre">__call__</span></code> method of python classes.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">functools</span>

<span class="k">class</span> <span class="nc">CountCalls</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>
        <span class="n">functools</span><span class="o">.</span><span class="n">update_wrapper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">func</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_calls</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_calls</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Call </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_calls</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nd">@CountCalls</span>
<span class="k">def</span> <span class="nf">say_whee</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Whee!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">say_whee</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">say_whee</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">say_whee</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">say_whee</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
<section id="Further-keywords">
<h2>Further keywords<a class="headerlink" href="#Further-keywords" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">keyword</span>
<span class="nb">print</span><span class="p">(</span><span class="n">keyword</span><span class="o">.</span><span class="n">kwlist</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="Recap:-Builtins">
<h3>Recap: Builtins<a class="headerlink" href="#Recap:-Builtins" title="Permalink to this headline">¶</a></h3>
<p>Don’t confuse these Keywords with the builtin-functions, that you can access via:</p>
<p>(The filter function drops the Error, Warnings and Exception, we’ll look into later)</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">drop_err_warn_exc</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">i</span> <span class="ow">in</span> <span class="n">string</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Warning&#39;</span><span class="p">,</span> <span class="s1">&#39;Exception&#39;</span><span class="p">]):</span>
        <span class="k">return</span> <span class="kc">True</span>

<span class="n">non_error_builtins</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="n">drop_err_warn_exc</span><span class="p">,</span> <span class="p">[</span><span class="n">builtin</span> <span class="k">for</span> <span class="n">builtin</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">__builtins__</span><span class="p">)]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">non_error_builtins</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Every python function returns <code class="docutils literal notranslate"><span class="pre">None</span></code> by default, which boolean value is False. If the function has been completely executed and nothing has been returned yet, a <code class="docutils literal notranslate"><span class="pre">None</span></code> will be returned.</p>
</section>
<section id="Accidentally-overwritten-Builtins">
<h3>Accidentally overwritten Builtins<a class="headerlink" href="#Accidentally-overwritten-Builtins" title="Permalink to this headline">¶</a></h3>
<p>You may find yourself in a situation, where you have accidentally overwritten one of the builtin functions. To restore them, you can simply use the <code class="docutils literal notranslate"><span class="pre">del</span></code> keyword to delete the variable, thus freeing up the namespace to be occupied again by the builtin.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">)</span>
<span class="nb">sum</span> <span class="o">=</span> <span class="s1">&#39;Run away!&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">)</span>
<span class="k">del</span> <span class="nb">sum</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="Lambda-expressions">
<h2>Lambda expressions<a class="headerlink" href="#Lambda-expressions" title="Permalink to this headline">¶</a></h2>
<p>Lambda expressions are used to generate fast ‘throwaway’ functions. The general syntax is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">var</span><span class="p">:</span> <span class="n">expression_with</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="n">square</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p>For multiple arguments use this syntax:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">multiplication</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
</pre></div>
</div>
<p>If you want your lambda function to return <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code> for a <code class="docutils literal notranslate"><span class="pre">filter()</span></code> function call, for example, you can use syntax similar to this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">contains_vowels</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">s</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;u&#39;</span><span class="p">])</span> <span class="k">else</span> <span class="kc">False</span>
</pre></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">var</span><span class="p">:</span> <span class="n">var</span><span class="o">**</span><span class="mi">2</span>
<span class="n">func</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">contains_vowels</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">s</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;u&#39;</span><span class="p">])</span> <span class="k">else</span> <span class="kc">False</span>
<span class="n">contains_vowels</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">filter_func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">string</span><span class="p">:</span> <span class="kc">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">i</span> <span class="ow">in</span> <span class="n">string</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Warning&#39;</span><span class="p">,</span> <span class="s1">&#39;Exception&#39;</span><span class="p">])</span> <span class="k">else</span> <span class="kc">False</span>

<span class="n">non_error_builtins</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="n">filter_func</span> <span class="p">,[</span><span class="n">builtin</span> <span class="k">for</span> <span class="n">builtin</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">__builtins__</span><span class="p">)]))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">non_error_builtins</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Global-and-Nonlocal--&gt;-Scope-and-Namespace">
<h2>Global and Nonlocal -&gt; Scope and Namespace<a class="headerlink" href="#Global-and-Nonlocal-->-Scope-and-Namespace" title="Permalink to this headline">¶</a></h2>
<p>Python’s namespace is the mapping from object to name. So if we call:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
<p>we map an object (remember: everything in python is an object) called <code class="docutils literal notranslate"><span class="pre">int</span></code>, or integer to the variable <code class="docutils literal notranslate"><span class="pre">a</span></code>. This creates a name, that is accessible in the global namespace. The namespaces are sorted hierarchically and you can remember them with the abbreviation LEGB for Local - Enclosing - Global - Built-in.</p>
<p><img alt="Drawing" src="basic_python/nested-namespaces-python.jpg" /></p>
<p><em>Scope</em> is a term which describes which namespace a call looks into. A function call can for example look into the Built-in namespace (you can call <code class="docutils literal notranslate"><span class="pre">list()</span></code> from within a function, without declaring it. Top-level calls (like code in jupyter cells) can’t look into a function’s namespace. Their scope is limited to the Global and Built-in namespace.</p>
<p>Let’s get into some examples… We declare a global variable called x and assign it a string object.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;global x&#39;</span>

<span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">test</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>The function <code class="docutils literal notranslate"><span class="pre">test()</span></code> has access to the global variable x.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;global x&#39;</span>

<span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="n">test</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The global scope (including the global and builtin namespace) can’t access teh variable y, unless…</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;global x&#39;</span>

<span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">y</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="n">test</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>We declare y to be a global variable.</p>
<p>Arguments to functions are also part of the function’s scope and won’t be accessible to the outside.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;global x&#39;</span>

<span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">z</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;local x&#39;</span> <span class="c1"># overwrite global</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>

<span class="n">test</span><span class="p">(</span><span class="s1">&#39;local z&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="What-is-the-enclosing-scope?">
<h3>What is the enclosing scope?<a class="headerlink" href="#What-is-the-enclosing-scope?" title="Permalink to this headline">¶</a></h3>
<p>The enclosing scope is used for nested functions. Here is a simple example of nested functions. Note the call <code class="docutils literal notranslate"><span class="pre">inner()</span></code> of the inner function.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># global namespace</span>
<span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;global x&#39;</span>

<span class="k">def</span> <span class="nf">outer</span><span class="p">():</span>
    <span class="c1"># local namespace</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;outer x&#39;</span>

    <span class="k">def</span> <span class="nf">inner</span><span class="p">():</span>
        <span class="c1"># enclosed namespace</span>
        <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;inner x&#39;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="n">inner</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">outer</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Similar to top-level functions, the inner function has access to the outer functions namespace. We can look at this by commenting out the <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">'inner</span> <span class="pre">x'</span></code> statement.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;global x&#39;</span>

<span class="k">def</span> <span class="nf">outer</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;outer x&#39;</span>

    <span class="k">def</span> <span class="nf">inner</span><span class="p">():</span>
        <span class="c1"># x = &#39;inner x&#39;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="n">inner</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">outer</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>And here’s where the <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> keyword comes into play. The <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> keyword overwrites the outer functions variable but leaves the global variable unchanged.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;global x&#39;</span>

<span class="k">def</span> <span class="nf">outer</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;outer x&#39;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">inner</span><span class="p">():</span>
        <span class="k">nonlocal</span> <span class="n">x</span>
        <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;inner x&#39;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="n">inner</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">outer</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The keyword <code class="docutils literal notranslate"><span class="pre">global</span></code> however, does not affect the local scope of the function <code class="docutils literal notranslate"><span class="pre">outer()</span></code></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;global x&#39;</span>

<span class="k">def</span> <span class="nf">outer</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;outer x&#39;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">inner</span><span class="p">():</span>
        <span class="k">global</span> <span class="n">x</span>
        <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;inner x&#39;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="n">inner</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">outer</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="Generators-and-yield">
<h2>Generators and yield<a class="headerlink" href="#Generators-and-yield" title="Permalink to this headline">¶</a></h2>
<p>Generators are your way of making python a little bit faster. We’ve already seen how the builtins <code class="docutils literal notranslate"><span class="pre">range()</span></code> and <code class="docutils literal notranslate"><span class="pre">map()</span></code> don’t actually return a list. They also use generators to keep the calculation of something on hold until it is really needed.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
<span class="go">&lt;map object at 0x7f2d5c4385c0&gt;</span>
</pre></div>
</div>
<p>We can create our own generators using the <code class="docutils literal notranslate"><span class="pre">yield</span></code> keyword. Consider this example. We have a function that returns a list of square numbers. And the generator function, making use of the <code class="docutils literal notranslate"><span class="pre">yield</span></code> keyword. Let’s say we want to find out, which number’s square is greater than 100.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">square_iterator</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="k">def</span> <span class="nf">square_generator</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">i</span> <span class="o">*</span> <span class="n">i</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">greater_than</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">my_nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span>
<span class="n">my_squares</span> <span class="o">=</span> <span class="n">square_iterator</span><span class="p">(</span><span class="n">my_nums</span><span class="p">)</span>
<span class="n">index</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">greater_than</span> <span class="k">else</span> <span class="kc">False</span><span class="p">,</span> <span class="n">my_squares</span><span class="p">))</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The first integer whose square is greater than </span><span class="si">{</span><span class="n">greater_than</span><span class="si">}</span><span class="s2"> is &#39;</span><span class="si">{</span><span class="n">my_nums</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39;. The square is &#39;</span><span class="si">{</span><span class="n">my_squares</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The function call <code class="docutils literal notranslate"><span class="pre">square_iterator(my_nums)</span></code> makes python calculate the square of all the nums in the list <code class="docutils literal notranslate"><span class="pre">my_nums</span></code>. However, it would be great if we can just stop the calculation when we reach 100, without writing a new function (that is writing a function specifically for the purpose of finding this number. A function which returns the squares of a list has a much broader application).</p>
<p>For this we need to actually make the generator calculate stuff, because right now, it only returns a generator object.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">generator</span> <span class="o">=</span> <span class="n">square_generator</span><span class="p">(</span><span class="n">my_nums</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The generator is ready to take the next result. For this, we’ll use the <code class="docutils literal notranslate"><span class="pre">next()</span></code> builtin function.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">next</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">next</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">next</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>What happens, when we reach the end of the <code class="docutils literal notranslate"><span class="pre">my_nums</span></code> list?</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">generator</span> <span class="o">=</span> <span class="n">square_generator</span><span class="p">(</span><span class="n">my_nums</span><span class="p">)</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">generator</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>We get a StopIteration Exception (More on Errors later). The generator has been <strong>exhausted</strong>.</p>
<p>This is a very important differentiation between iterators (lists, tuples, dicts) and generators. Generators can become <strong>exhausted</strong>. Once all calculations have been done with the generator no values can be accessed any further.</p>
<p>However, generators can still be used as iterables in for loops. The StopIteration Exception automatically terminates the for loop. In this next example the result of the <code class="docutils literal notranslate"><span class="pre">square_generator()</span></code> function call is not assigned to a variable. This way we don’t have to worry about exhaustion.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">square_generator</span><span class="p">(</span><span class="n">my_nums</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>With this, we can accelerate the search above. This function is much faster than the one above.</p>
<p>By defining the variable my_nums with a generator, rather than a list <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4,</span> <span class="pre">5,</span> <span class="pre">6,</span> <span class="pre">...]</span></code> we can save time by not typing the list explicitly. And we can pass as great a number, as we like into the greater_than variable.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">int_generator</span><span class="p">():</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">i</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">my_nums</span> <span class="o">=</span> <span class="n">int_generator</span><span class="p">()</span>
<span class="n">generator</span> <span class="o">=</span> <span class="n">square_generator</span><span class="p">(</span><span class="n">my_nums</span><span class="p">)</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">greater_than</span> <span class="o">=</span> <span class="mi">50000</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">value</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="n">greater_than</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The first integer whose square is greater than </span><span class="si">{</span><span class="n">greater_than</span><span class="si">}</span><span class="s2"> is &#39;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&#39;. The square is &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Exceptions">
<h2>Exceptions<a class="headerlink" href="#Exceptions" title="Permalink to this headline">¶</a></h2>
<p>The time has finally come to talk about Exceptions, Errors, Warnings and Exception Handling.</p>
<p>The words Exception and Error are often used interchangeably. However, it is pretty clear, that Exception is the base class. All other Exceptions are Errors, that inherit from Exception.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">issubclass</span><span class="p">(</span><span class="ne">NotImplementedError</span><span class="p">,</span> <span class="ne">Exception</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>So Exception is the base class. How can we use it. We can use the builtin class Exception to stop the Execution of some code.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">integer_addition</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="n">out</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;All provided types need to be &lt;int&gt;, you provided &lt;</span><span class="si">{</span><span class="n">i</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&gt;.&quot;</span><span class="p">)</span>
        <span class="n">out</span> <span class="o">+=</span> <span class="n">i</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="n">integer_addition</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;this is a list&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>It would be clearer, if we substituted <em>Exception</em> with <em>TypeError</em>, to make it more clear, what exactly made our function stop: A wrong type.</p>
<section id="Assert">
<h3>Assert<a class="headerlink" href="#Assert" title="Permalink to this headline">¶</a></h3>
<p>The keyword assert allows us to save some space by putting the is expression and the raise of an Exception onto the same line.</p>
<p>Assert is often used for small checks and the Description (the part that gives more info about the Error) is often omitted.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">integer_addition</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="n">out</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="sa">f</span><span class="s2">&quot;All provided types need to be &lt;class &#39;int&#39;&gt;, you provided &lt;class &#39;</span><span class="si">{</span><span class="n">i</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;&gt;.&quot;</span>
        <span class="n">out</span> <span class="o">+=</span> <span class="n">i</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="n">integer_addition</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;this is a list&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</section>
<section id="Exception-handling">
<h3>Exception handling<a class="headerlink" href="#Exception-handling" title="Permalink to this headline">¶</a></h3>
<p>There are some keywords that help you manage Exceptions and Errors. The general flow looks like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="k">pass</span>
<span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
    <span class="k">pass</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">pass</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>That’s a lot of keywords. Let’s go through them in order. Let’s use the <code class="docutils literal notranslate"><span class="pre">integer_addition()</span></code> function.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">5.6</span><span class="p">]</span>
<span class="k">try</span><span class="p">:</span> <span class="n">out</span> <span class="o">=</span> <span class="n">integer_addition</span><span class="p">(</span><span class="o">*</span><span class="n">numbers</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dropping every non-integer values.&#39;</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">integer_addition</span><span class="p">(</span><span class="o">*</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="n">numbers</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>If we want to do something after the Exception is raised, but still stop the execution, we can simply input a <code class="docutils literal notranslate"><span class="pre">raise</span></code></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">5.6</span><span class="p">]</span>
<span class="k">try</span><span class="p">:</span> <span class="n">out</span> <span class="o">=</span> <span class="n">integer_addition</span><span class="p">(</span><span class="o">*</span><span class="n">numbers</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;There are some non-integer values.&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">([</span><span class="nb">type</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">])</span>
    <span class="k">raise</span>
</pre></div>
</div>
</div>
<p>Using the <code class="docutils literal notranslate"><span class="pre">except</span> <span class="pre">Exception</span></code> expression is oftentimes too vague, because it catches all Errors (it is after all the base class). It would be better to just catch the Error we’re after.</p>
<p>This is bad practice, because it does not catch the correct Exception.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">integer_addition</span><span class="p">(</span><span class="o">*</span><span class="n">numbers</span><span class="p">)</span>
    <span class="n">var</span> <span class="o">=</span> <span class="n">bad_var</span>
<span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;There are some non-integer values.&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">([</span><span class="nb">type</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>With this code, which catches the <code class="docutils literal notranslate"><span class="pre">integer_addition()</span></code>’s AssertionError we see, that the <code class="docutils literal notranslate"><span class="pre">var</span> <span class="pre">=</span> <span class="pre">bad_var</span></code> statement is the one causing trouble.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">integer_addition</span><span class="p">(</span><span class="o">*</span><span class="n">numbers</span><span class="p">)</span>
    <span class="n">var</span> <span class="o">=</span> <span class="n">bad_var</span>
<span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;There are some non-integer values.&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">([</span><span class="nb">type</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>Wit the <code class="docutils literal notranslate"><span class="pre">as</span></code> keyword we can also save the Exception to a variable.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">integer_addition</span><span class="p">(</span><span class="o">*</span><span class="n">numbers</span><span class="p">)</span>
    <span class="n">var</span> <span class="o">=</span> <span class="n">bad_var</span>
<span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;There are some non-integer values.&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">([</span><span class="nb">type</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">])</span>
<span class="k">except</span> <span class="ne">NameError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Some variables are missing.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Now let’s look into the very long exception handling from above:</p>
<p>The <code class="docutils literal notranslate"><span class="pre">else</span></code> clause is run, when the <code class="docutils literal notranslate"><span class="pre">try</span></code> clause does not raise an exception.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">bad_var</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">integer_addition</span><span class="p">(</span><span class="o">*</span><span class="n">numbers</span><span class="p">)</span>
    <span class="n">var</span> <span class="o">=</span> <span class="n">bad_var</span>
<span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;There are some non-integer values.&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">([</span><span class="nb">type</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">])</span>
<span class="k">except</span> <span class="ne">NameError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Some variables are missing.&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Everything ran successfully.&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The sum is: &#39;</span><span class="p">,</span> <span class="n">out</span><span class="p">)</span>

<span class="c1"># delete bad_var, so the cells above still raise a NameError</span>
<span class="k">del</span> <span class="n">bad_var</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">fianlly</span></code> clause runs no matter what happens. This can be used to free resources no matter what happens. If one of your objects occupies much space in the RAM (opened files, opened databases), you can use the finally as a sort-of garbage collection to free up the RAM again.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">bad_var</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">integer_addition</span><span class="p">(</span><span class="o">*</span><span class="n">numbers</span><span class="p">)</span>
    <span class="n">var</span> <span class="o">=</span> <span class="n">bad_var</span>
<span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;There are some non-integer values.&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">([</span><span class="nb">type</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">])</span>
<span class="k">except</span> <span class="ne">NameError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Some variables are missing.&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Everything ran successfully.&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The sum is: &#39;</span><span class="p">,</span> <span class="n">out</span><span class="p">)</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Executing Finally...&#39;</span><span class="p">)</span>

<span class="c1"># delete bad_var, so the cells above still raise a NameError</span>
<span class="k">del</span> <span class="n">bad_var</span>
</pre></div>
</div>
</div>
</section>
<section id="Custom-Exceptions">
<h3>Custom Exceptions<a class="headerlink" href="#Custom-Exceptions" title="Permalink to this headline">¶</a></h3>
<p>You can also create your own custom Exceptions.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">BadError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Error is really bad.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;(╯°□°)╯︵ ┻━┻ &#39;</span> <span class="o">+</span> <span class="n">message</span> <span class="o">+</span> <span class="s1">&#39; ┬─┬ノ( ◕◡◕ ノ)&#39;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>

<span class="k">raise</span> <span class="n">BadError</span><span class="p">(</span><span class="s2">&quot;Welp. That&#39;s all about Exceptions.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Warnings">
<h3>Warnings<a class="headerlink" href="#Warnings" title="Permalink to this headline">¶</a></h3>
<p>Wanrings can be imported from the builtin library <em>warnings</em>. Warnings can: - Print text to the output to inform the user (‘default’). - Turn matching warnings into Exceptions (‘error’). - Never print matching warnings (‘ignore’). - Always print matching warnings (‘always’). - Print the first occurrence of a warning inside a module (used to inform the user about upcoming deprecations) (‘module’). - Print only the first occurrence of matching warnings (‘once’).</p>
<p>Let’s get into it. To print a standard warning just do something like this:</p>
<p><strong>Simple warning</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="c1"># resets warnings to default</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">resetwarnings</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">protected_division</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Protected division. Returning 0.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span class="n">y</span>

<span class="nb">print</span><span class="p">(</span><span class="n">protected_division</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">protected_division</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">protected_division</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">protected_division</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p><strong>Turn consecutive warnings into Exceptions</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="c1"># resets warnings to default</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">resetwarnings</span><span class="p">()</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">protected_division</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Protected division. Returning 0.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span class="n">y</span>

<span class="nb">print</span><span class="p">(</span><span class="n">protected_division</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">protected_division</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">protected_division</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">protected_division</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
</section>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="quick_references/qr_01_data_types.html" class="btn btn-neutral float-right" title="Data Types" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="basics_01_functions_classes.html" class="btn btn-neutral float-left" title="01_functions_classes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Kevin Sawade.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>